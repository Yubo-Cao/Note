# 数据结构 & 算法

## 入门

- 数据结构和算法相辅相成
- 例子
  - 图书摆放到书架上
  - 新书的插入
    - 排序 -- 产生 $O(N)$
    - 不排序 - 常数时间
  - 旧书的索引
    - 排序 -- 二分查找
    - 不排序 -- 线性时间
  - 为了平衡，我们把每一个书按照类别分开
    - 结果就是，我们还是要用算法来优化分类的大小
- **解决问题的效率，跟数据的组织方式是相关的**

## C 语言例子

### `printN`

- `PrintN` 打印 `1...N` 之间的内容

```c
void printN(int N){
    int i;
    for (i = 1; i <= N; i++){
        printf("%d\n", i);
    }
    return N
}
```

```c
void printN(int N){
    if (N >= 1){
        printN(N - 1)
    }
    printf("%d\n", N);
}
```

- 测试

  - 我们发现，在递归函数传入 100000 之后直接罢工了。

  - 原因在于，占用了大量的栈空间，溢出了，然后就爆掉了。
  - 解决问题的效率，和空间的利用效率有关。

### 多项式

```python
def naive(coefficients, x):
    res = 0
    # a_0 + a_1x + a_2x^2 + ... + a_{n-1}x^{n-1} + a_nx^n
    for exp, coefficient in enumerate(coefficients[1:], start=0):
        res += pow(x, exp) * coefficient
    return res


def better(coefficients, x):
    res = 0
    # a_0 + x(a_1 + x(...(a_{n-1} + x(a_n))))
    for coefficient in coefficients[::-1]:
        res += x * (coefficient + res)
    return res
```

- C 提供了一个函数， `clock` 可以捕捉从程序开始运行到函数被调用时所耗费的时间，返回 `clock tick` 数
  - 这个数不同的机器不一样，常数为 `CLK_TCK`，表示机器每秒走的打点数
  - 然后我们就可以算出时间了

- 如果跑的太快，让函数重复运行充分多次，然后测出总的时钟打点间隔充分长，然后计算平均每次运行的时间就可以了。

- **解决问题的效率，和算法的巧妙程度有关系**

## 什么是数据结构

- 数据结构是数据对象在计算机中的组织方式
  - 逻辑结构
  - 物理结构
- 数据对象和其在上的操作（算法）相关

- **Abstract Data Type** --  抽象数据类型
  - 数据类型 **类**
    - 数据对象集（包含什么东西）
    - 数据集合所关联的操作集（怎么操作）
  - 抽象，描述数据类型的方法不依赖具体实现
    - 和语言，机器，物理结构无关
  - 我们只描述是什么，而不关心怎么做的
  - 例子，矩阵的定义 `Matrix`
    - 数据对象集合， $A_{M\times N}$ 矩阵是由 $M\times N$ 个 `<a,i,j>` 三元组组成。
    - 操作集合，有多少列，多少行，一堆方法
    - **在抽象的描述中，我们不关心存储在内部的元素是什么样的**。
      - 这样，矩阵元素到底是什么类型和矩阵到底干什么，是分离的
      - 同理，我们也不关心内部的实现：到底是用二维数组，一维数组，不管
    - 简言之，我们只说我们要什么，而不管到底怎么干。**这就是抽象**——这样可以避免